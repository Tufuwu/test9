<meta name="viewport" content="width=640">
<style>
  table td.shrink { white-space: nowrap; width: 0 }
</style>
<table cellpadding="2" cellspacing="0" width="100%">
            <tr>
            <td class="shrink">&nbsp;</td>
            <td class="expand">&nbsp;</td>
            <td class="shrink">&nbsp;</td>
            </tr>
    <tr>
        <th colspan="4">All Open Classes - Currently {{ current_time }}</th>
    </tr>
    {% for class in classes %}
        {% if class.category.category != "Lunch" %}
        {% if not class.isFull %}
         {% if use_categories %}
            {% ifchanged %}
                </td></tr>
               <tr><th colspan="3" class="start_time">{{ class.begin_time }}</th></tr>
               <tr><td>
            {% endifchanged %}
            {% ifchanged %}
                </td></tr>
               <tr><th colspan="3" class="category">{{ class.category.category }}</th></tr>
               <tr><td>
            {% endifchanged %}
         {% endif %}
            <tr>
            <td class="shrink"><div class="hideextra"><span class="classitem"style="color: #00CC00;">{% for ft in class.friendly_times %}{{ ft }}{% if not forloop.last %}, {% endif %}{% endfor %}</span></div></td>
            <td class="expand"><div class="hideextra"><span class="classitem"><b>{{ class.emailcode }}</b>: {{ class.title }}</span></div></td>
            <td class="shrink"><div class="hideextra"><span class="classitem"style="color: #CC0000;">Grades {{ class.parent_class.grade_min }}--{{ class.parent_class.grade_max }}</span></div> </td>
            </tr>
        {% endif %} 
        {% endif %}
    {% endfor %}
</table>
